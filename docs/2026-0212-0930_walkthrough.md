# ウォークスルー: ホワイトリスト/ブラックリストモード切替機能 + 追加改修

Issue #1, #3 対応および追加要望への対応が完了しました。

## 実装機能

### 1. モード切替機能 (Issue #1, #3)

- **ブラックリストモード**（デフォルト）: 全サイト有効、例外サイトのみ無効化。
- **ホワイトリストモード**: 全サイト無効、例外サイトのみ有効化。
- **UI**: オプションページでラジオボタンによる切替が可能。

### 2. UI改善 (追加要望)

- **ポップアップサイズ**: 初回起動時のオンボーディングが見切れないよう、縦幅を `600px` に固定拡大。
- **デフォルト表示**: ホワイトリストモード時は「初期設定済みドメイン」として `chatgpt.com` と `claude.ai` を表示。

### 3. リセット機能の強化 (追加要望)

- **完全初期化**: オプションページの「初期化」ボタン押下時、全設定（モード、ドメインリスト）を完全に消去して初期状態に戻すように変更。

## 技術的変更点

### ストレージ構造

- `ActivationMode` 型追加 (`'blacklist' | 'whitelist'`)
- `DEFAULT_WHITELIST_DOMAINS` 定数追加

### ファイル変更

- **`src/types/index.ts`**: 型定義更新
- **`src/background/storage.ts`**:
  - `resetAllSettings()` 追加
  - `getAllConfigs()` にホワイトリストデフォルト注入ロジック追加
- **`src/options/App.tsx`**:
  - モード切替UI追加
  - デフォルトドメイン表示ロジック修正
  - リセット処理を `resetAllSettings()` に変更
- **`src/popup/index.css`**: `min-height: 600px` 追加

## 検証結果

- ✅ `pnpm build` 成功
- ✅ TypeScriptコンパイルエラーなし
